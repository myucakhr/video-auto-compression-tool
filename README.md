# 動画自動圧縮ツール

Google NotebookLM用に、動画ファイルを200MB以下に自動圧縮するWebアプリケーションです。
Mac (M-series) 環境ではハードウェアアクセラレーション (VideoToolbox) を使用して高速に圧縮します。
長尺動画や大きなファイルは、自動的にビットレート調整や分割が行われます。

## 特徴
- **ブラウザ UI**: ドラッグ＆ドロップで簡単操作
- **自動ビットレート調整**: 目標サイズ（デフォルト160MB）に合わせて最適化
- **長尺動画対応**: 1ファイルで収まらない場合は自動分割
- **Mac最適化**: Apple Siliconで高速エンコード
- **結果保持**: 複数のファイルを連続してダウンロード可能


## 使い方

1. フォルダ内の **`動画自動圧縮ツール起動.command`** をダブルクリックしてください。
2. 自動的に黒い画面（ターミナル）が立ち上がり、少し待つとブラウザが開きます。

起動後:
1. 「動画ファイルを選択」エリアにファイルをドロップ
2. 設定（目標サイズなど）を確認
3. 「圧縮開始」ボタンをクリック
4. 処理完了後、ダウンロードボタンからファイルを取得

**終了方法:**
使い終わったらブラウザを閉じ、黒い画面（ターミナル）も閉じてください。



**初回起動時の注意:**
- 最初の1回目は、必要なプログラムのインストールなどで少し時間がかかります（数分程度）。
- 2回目以降はすぐに起動します。
- **重要**: 事前に `ffmpeg` のインストールが必要です。

### 🔰 ffmpegのインストール手順（初心者向け）

このツールを使うには、裏側で動画を処理するための `ffmpeg` という無料ソフトが必要です。
まだMacに入っていない場合は、以下の手順でインストールしてください。ITに詳しくない方でも、手順通りにコピー＆ペーストすれば大丈夫です。

**1. ターミナルを開く**
- キーボードの `Command` キーを押しながら `Space` キーを押し、「ターミナル」と入力してEnterを押すと開きます（黒っぽい画面です）。

**2. 準備ツール（Homebrew）をインストールする**
- すでにHomebrewを使っている方はスキップしてください。
- 初めての方は、以下のコマンドをコピーして、ターミナルに貼り付け、Enterキーを押してください。
  ```bash
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  ```
  - ※途中、Macのログインパスワードを求められることがあります。キーを叩いても画面には何も表示されませんが、そのままパスワードを入力してEnterを押せば進みます。

**3. ffmpegをインストールする**
- 最後に以下のコマンドをコピーして貼り付け、Enterキーを押してください。
  ```bash
  brew install ffmpeg
  ```
- 文字がたくさん流れて、動きが止まればインストール完了です。これでツールが使えるようになります！

## 動作要件

- macOS (推奨)
- Python 3
- FFmpeg (パスが通っていること)


## カスタマイズ (上級者向け)

`.streamlit/config.toml` でアップロードサイズ制限などを変更できます（デフォルトは実質無制限の1TBに設定済み）。
